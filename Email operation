//accepted
class Email{
// Implement Email Class according to the specifiaction.
	Header header;
	String body;
	String greetings;
	public Email(Header header, String body,String greetings){
		this.header=header;
		this.body=body;
		this.greetings=greetings;
	}
}
class Header{
// Implemet the Header Class according to the specifiaction.
	String from;
	String to;
	public Header(String from, String to){
		this.from=from;
		this.to=to;
	}
}


class EmailOperations{
// Implemet the Three methods specified in the specified.
	public int emailVerify(Email e){
		String regex = "^[a-zA-Z_]+@[a-zA-Z]+.[a-zA-Z]+$";
		String fr = e.header.from;
		String to = e.header.to;
		boolean res1 = fr.matches(regex);
		boolean res2 = to.matches(regex);
		if(res1 == true && res2 == true)
			return 2;
		else if(res1 == true || res2 == true)
			return 1;
		else
			return 0;
	}	
	public String bodyEncryption(Email e){
		String b = e.body;
		String cipherText = "";
		for(int i=0; i<b.length(); i++){
			if(Character.isUpperCase(b.charAt(i))){
				char ch = (char)(((int)b.charAt(i) + 3-65 )%26+65);
				cipherText = cipherText + ch;
			}
			else if(Character.isLowerCase(b.charAt(i))){
				char ch = (char)(((int)b.charAt(i) + 3-97 )%26+97);
				cipherText = cipherText +ch;
			}
			else
				cipherText = cipherText+' ';
		}
		return cipherText;
	}
	public String greetingMessage(Email e){
		String message = "";
		int sep = e.header.from.lastIndexOf("@");
		message = e.greetings+" "+e.header.from.substring(0,sep);
		return message;
	}
}


public class Source {
	public static void main(String args[] ) throws Exception {
		/* Enter your code here. Read input from STDIN. Print output to STDOUT */
    // You can Implement your main() to check your Program.
